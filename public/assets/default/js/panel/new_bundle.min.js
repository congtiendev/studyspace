/******/ (() => { // webpackBootstrap
var __webpack_exports__ = {};
/*!******************************************!*\
  !*** ./resources/js/panel/new_bundle.js ***!
  \******************************************/
(function () {
  "use strict";

  function randomString() {
    var text = "";
    var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
    for (var i = 0; i < 5; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));
    return text;
  }
  $('body').on('change', '.js-bundle-content-locale', function (e) {
    e.preventDefault();
    var $this = $(this);
    var $form = $(this).closest('.js-content-form');
    var locale = $this.val();
    var bundleId = $this.attr('data-bundle-id');
    var item_id = $this.attr('data-id');
    var relation = $this.attr('data-relation');
    var fields = $this.attr('data-fields');
    fields = fields.split(',');
    $this.addClass('loadingbar gray');
    var path = '/panel/bundles/' + bundleId + '/getContentItemByLocale';
    var data = {
      item_id: item_id,
      locale: locale,
      relation: relation
    };
    $.post(path, data, function (result) {
      if (result && result.item) {
        var item = result.item;
        Object.keys(item).forEach(function (key) {
          var value = item[key];
          if ($.inArray(key, fields) !== -1) {
            var element = $form.find('.js-ajax-' + key);
            element.val(value);
          }
        });
        $this.removeClass('loadingbar gray');
      }
    }).fail(function (err) {
      $this.removeClass('loadingbar gray');
    });
  });
  $('body').on('click', '#addBundleWebinar', function (e) {
    e.preventDefault();
    var key = randomString();
    var html = $('#newBundleWebinarForm').html();
    html = html.replaceAll('record', key);
    html = html.replaceAll('bundleWebinars-select2', 'bundleWebinars-select2-' + key);
    $('#bundleWebinarsAccordion').prepend(html);
    $('.bundleWebinars-select2-' + key).select2({
      placeholder: $(this).data('placeholder'),
      allowClear: false
    });
    feather.replace();
  });
  $('body').on('click', '.js-save-bundleWebinar', function (e) {
    e.preventDefault();
    var $this = $(this);
    var form = $this.closest('.bundleWebinar-form');
    handleWebinarItemForm(form, $this);
  });
})(jQuery);
/******/ })()
;